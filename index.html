<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Analisador PRO de Nichos</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f5f5f5;
        margin: 0;
        padding: 0;
    }

    header {
        background: linear-gradient(45deg, #6a11cb, #2575fc);
        color: white;
        padding: 25px;
        text-align: center;
        font-size: 24px;
        font-weight: bold;
    }

    .container {
        max-width: 900px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin-top: 20px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    input, select, button, textarea {
        width: 100%;
        padding: 12px;
        margin-top: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 16px;
    }

    button {
        background: #6a11cb;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
    }

    button:hover {
        background: #5016a8;
    }

    .result-block {
        margin-top: 25px;
        padding: 20px;
        border-left: 4px solid #6a11cb;
        background: #fafafa;
        border-radius: 6px;
    }

    .loading {
        font-size: 18px;
        color: #6a11cb;
        font-weight: bold;
        display: none;
    }
</style>
</head>

<body>

<header>Analisador PRO de Nichos</header>

<div class="container">
    <h2>ðŸ”‘ Coloque sua chave OpenAI</h2>
    <input id="apiKey" placeholder="sk-..." type="password">

    <h2>ðŸ§­ Nome do Nicho</h2>
    <input id="niche" placeholder="Ex: Roupas fitness, Petshop, Marketing digital">

    <h2>ðŸŽ¯ Tom do Resultado</h2>
    <select id="tone">
        <option value="profissional">Profissional</option>
        <option value="prÃ¡tico">PrÃ¡tico</option>
        <option value="detalhado">Detalhado</option>
        <option value="criativo">Criativo</option>
    </select>

    <button onclick="generate()">Gerar AnÃ¡lise Completa</button>

    <p class="loading" id="loading">ðŸ”„ Gerando anÃ¡lise... aguarde</p>

    <div id="results"></div>
</div>

<script>
async function generate() {
    const key = document.getElementById("apiKey").value.trim();
    const niche = document.getElementById("niche").value.trim();
    const tone = document.getElementById("tone").value;
    const loading = document.getElementById("loading");
    const results = document.getElementById("results");

    if (!key || !niche) {
        alert("Preencha a API key e o nicho!");
        return;
    }

    loading.style.display = "block";
    results.innerHTML = "";

    try {
        const response = await fetch("https://api.openai.com/v1/chat/completions", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": "Bearer " + key
            },
            body: JSON.stringify({
                model: "gpt-4o-mini",
                messages: [{
                    role: "user",
                    content: `
VocÃª Ã© um analista de mercado sÃªnior. Gere uma anÃ¡lise PROFISSIONAL do nicho: ${niche}

TOM: ${tone}

O resultado deve conter:

1. CONCORRÃŠNCIA â€” detalhado
2. DIFICULDADE DE ENTRADA â€” detalhado
3. TAMANHO DO MERCADO â€” dados reais aproximados
4. TENDÃŠNCIAS 2024/2025 â€” 3 parÃ¡grafos
5. PERSONA IDEAL COMPLETA
6. TOP 10 PROBLEMAS DO PÃšBLICO
7. OPORTUNIDADES REAIS
8. 7 IDEIAS DE PRODUTOS
9. 7 IDEIAS DE SERVIÃ‡OS
10. ESTRATÃ‰GIA DE VENDAS â€” passo a passo
11. ANÃšNCIOS PRONTOS (Instagram e TikTok)
12. RESUMO â€” vale a pena?

Formato: texto organizado por seÃ§Ãµes.
`
                }],
                temperature: 0.7
            })
        });

        const data = await response.json();
        loading.style.display = "none";

        if (!data.choices) {
            results.innerHTML = "<p style='color:red;'>Erro na API: " + JSON.stringify(data) + "</p>";
            return;
        }

        const text = data.choices[0].message.content;

        results.innerHTML = `<div class='result-block'>${text.replace(/\n/g,"<br>")}</div>`;

    } catch (e) {
        loading.style.display = "none";
        results.innerHTML = "<p style='color:red;'>Erro: " + e.message + "</p>";
    }
}
</script>

</body>
</html>
